/*
 * main.c - FreeRTOS-based test for ELEGOO 0.96-inch OLED (SSD1306)
 *
 * Purpose: Initializes the OLED display via I2C and displays "T: 26.77" (capital T),
 *          "H: 57.46" (capital H for Humidity), and "P: 1016.37" (capital P for Pressure)
 *          with corrected English font and orientation using ssd1306xled_font8x16.
 *
 * Course:  ECE 544 - Embedded Systems Design, Winter 2025
 * Authors: Nikolay Nikolov, Ashten Bontrager
 */

#include "FreeRTOS.h"
#include "i2c.h" /* Your I2C driver header */
#include "semphr.h"
#include "sleep.h"
#include "task.h"
#include "xiic.h"
#include "xil_printf.h"

/* OLED I2C address (7-bit) */
#define OLED_I2C_ADDR 0x3C

/* SSD1306 command constants */
#define OLED_CMD 0x00  /* Control byte for commands */
#define OLED_DATA 0x40 /* Control byte for data */

/* Global I2C instance */
XIic IicInstance;
/* Semaphore for OLED access */
SemaphoreHandle_t oled_sem;

/* Font definition */
extern const uint8_t ssd1306xled_font8x16[];

/* Write a command to the OLED */
static void oled_write_cmd(uint8_t cmd)
{
    uint8_t buffer[2] = {OLED_CMD, cmd};
    int     status    = XIic_Send(IicInstance.BaseAddress, OLED_I2C_ADDR, buffer, 2, XIIC_STOP);
    if (status != 2)
    {
        xil_printf("[ERROR] OLED cmd write failed: %d\r\n", status);
    }
}

/* Write data to the OLED */
static void oled_write_data(uint8_t* data, uint32_t len)
{
    uint8_t buffer[129]; /* Max 128 bytes + control byte */
    buffer[0] = OLED_DATA;
    for (uint32_t i = 0; i < len && i < 128; i++)
    {
        buffer[i + 1] = data[i];
    }
    int status = XIic_Send(IicInstance.BaseAddress, OLED_I2C_ADDR, buffer, len + 1, XIIC_STOP);
    if (status != len + 1)
    {
        xil_printf("[ERROR] OLED data write failed: %d\r\n", status);
    }
}

/* Initialize the OLED display with corrected orientation */
static void oled_init(void)
{
    /* SSD1306 initialization sequence (from datasheet) */
    oled_write_cmd(0xAE); /* Display OFF */
    oled_write_cmd(0xD5); /* Set display clock divide ratio/oscillator frequency */
    oled_write_cmd(0x80); /* Default value */
    oled_write_cmd(0xA8); /* Set multiplex ratio */
    oled_write_cmd(0x3F); /* 64 MUX for 128x64 */
    oled_write_cmd(0xD3); /* Set display offset */
    oled_write_cmd(0x00); /* No offset */
    oled_write_cmd(0x40); /* Set display start line */
    oled_write_cmd(0x8D); /* Charge pump */
    oled_write_cmd(0x14); /* Enable charge pump */
    oled_write_cmd(0x20); /* Memory addressing mode */
    oled_write_cmd(0x00); /* Horizontal addressing mode */
    oled_write_cmd(0xA0); /* Segment remap (normal) */
    oled_write_cmd(0xC0); /* COM output scan direction (normal) */
    oled_write_cmd(0xDA); /* Set COM pins hardware configuration */
    oled_write_cmd(0x12); /* Alternative COM pin config */
    oled_write_cmd(0x81); /* Set contrast control */
    oled_write_cmd(0xCF); /* Contrast value (adjustable, 0x00-0xFF) */
    oled_write_cmd(0xD9); /* Set pre-charge period */
    oled_write_cmd(0xF1); /* Phase 1: 1 DCLK, Phase 2: 15 DCLK */
    oled_write_cmd(0xDB); /* Set VCOMH deselect level */
    oled_write_cmd(0x40); /* Default value */
    oled_write_cmd(0xA4); /* Entire display ON (resume to RAM content) */
    oled_write_cmd(0xA6); /* Normal display (not inverted) */
    oled_write_cmd(0xAF); /* Display ON */
}

/* OLED display task */
void oled_task(void* pvParameters)
{
    /* Wait for initialization */
    vTaskDelay(pdMS_TO_TICKS(100));

    /* Test strings with numbers */
    const char* line1 = "T: 26.77";   /* Capital T for Temperature */
    const char* line2 = "H: 57.46";   /* Capital H for Humidity */
    const char* line3 = "P: 1016.37"; /* Capital P for Pressure */

    while (1)
    {
        if (xSemaphoreTake(oled_sem, pdMS_TO_TICKS(100)) == pdTRUE)
        {
            /* Clear display */
            uint8_t clear_buffer[128] = {0};
            for (uint8_t page = 0; page < 8; page++)
            {
                oled_write_cmd(0xB0 + page); /* Set page address (0-7) */
                oled_write_cmd(0x00);        /* Column start low (0) */
                oled_write_cmd(0x10);        /* Column start high (0) */
                oled_write_data(clear_buffer, 128);
            }

            /* Write "T: 26.77" starting at page 0 (2 pages tall) */
            uint8_t col = 0;
            for (uint32_t i = 0; line1[i] != '\0'; i++)
            {
                uint16_t font_offset = 4; /* Skip font header */
                switch (line1[i])
                {
                    case ' ':
                        font_offset += 0 * 16;
                        break;
                    case 'T':
                        font_offset += 52 * 16;
                        break;
                    case ':':
                        font_offset += 26 * 16;
                        break;
                    case '2':
                        font_offset += 18 * 16;
                        break;
                    case '6':
                        font_offset += 22 * 16;
                        break;
                    case '7':
                        font_offset += 23 * 16;
                        break;
                    case '.':
                        font_offset += 14 * 16;
                        break;
                    default:
                        if (line1[i] >= '0' && line1[i] <= '9')
                            font_offset += (16 + (line1[i] - '0')) * 16;
                        else
                            font_offset += 0 * 16; /* Space */
                        break;
                }

                /* Write upper half (page 0) */
                oled_write_cmd(0xB0);                /* Page 0 */
                oled_write_cmd(0x00 + (col & 0x0F)); /* Column low */
                oled_write_cmd(0x10 + (col >> 4));   /* Column high */
                oled_write_data((uint8_t*) &ssd1306xled_font8x16[font_offset], 8);

                /* Write lower half (page 1) */
                oled_write_cmd(0xB1);                /* Page 1 */
                oled_write_cmd(0x00 + (col & 0x0F)); /* Column low */
                oled_write_cmd(0x10 + (col >> 4));   /* Column high */
                oled_write_data((uint8_t*) &ssd1306xled_font8x16[font_offset + 8], 8);

                col += 8; /* 8 pixels wide */
            }

            /* Write "H: 57.46" starting at page 2 */
            col = 0;
            for (uint32_t i = 0; line2[i] != '\0'; i++)
            {
                uint16_t font_offset = 4; /* Skip font header */
                switch (line2[i])
                {
                    case ' ':
                        font_offset += 0 * 16;
                        break;
                    case 'H':
                        font_offset += 40 * 16;
                        break;
                    case ':':
                        font_offset += 26 * 16;
                        break;
                    case '5':
                        font_offset += 21 * 16;
                        break;
                    case '7':
                        font_offset += 23 * 16;
                        break;
                    case '4':
                        font_offset += 20 * 16;
                        break;
                    case '6':
                        font_offset += 22 * 16;
                        break;
                    case '.':
                        font_offset += 14 * 16;
                        break;
                    default:
                        if (line2[i] >= '0' && line2[i] <= '9')
                            font_offset += (16 + (line2[i] - '0')) * 16;
                        else
                            font_offset += 0 * 16; /* Space */
                        break;
                }

                /* Write upper half (page 2) */
                oled_write_cmd(0xB2);                /* Page 2 */
                oled_write_cmd(0x00 + (col & 0x0F)); /* Column low */
                oled_write_cmd(0x10 + (col >> 4));   /* Column high */
                oled_write_data((uint8_t*) &ssd1306xled_font8x16[font_offset], 8);

                /* Write lower half (page 3) */
                oled_write_cmd(0xB3);                /* Page 3 */
                oled_write_cmd(0x00 + (col & 0x0F)); /* Column low */
                oled_write_cmd(0x10 + (col >> 4));   /* Column high */
                oled_write_data((uint8_t*) &ssd1306xled_font8x16[font_offset + 8], 8);

                col += 8;
            }

            /* Write "P: 1016.37" starting at page 4 */
            col = 0;
            for (uint32_t i = 0; line3[i] != '\0'; i++)
            {
                uint16_t font_offset = 4; /* Skip font header */
                switch (line3[i])
                {
                    case ' ':
                        font_offset += 0 * 16;
                        break;
                    case 'P':
                        font_offset += 48 * 16;
                        break;
                    case ':':
                        font_offset += 26 * 16;
                        break;
                    case '1':
                        font_offset += 17 * 16;
                        break;
                    case '0':
                        font_offset += 16 * 16;
                        break;
                    case '6':
                        font_offset += 22 * 16;
                        break;
                    case '3':
                        font_offset += 19 * 16;
                        break;
                    case '7':
                        font_offset += 23 * 16;
                        break;
                    case '.':
                        font_offset += 14 * 16;
                        break;
                    default:
                        if (line3[i] >= '0' && line3[i] <= '9')
                            font_offset += (16 + (line3[i] - '0')) * 16;
                        else
                            font_offset += 0 * 16; /* Space */
                        break;
                }

                /* Write upper half (page 4) */
                oled_write_cmd(0xB4);                /* Page 4 */
                oled_write_cmd(0x00 + (col & 0x0F)); /* Column low */
                oled_write_cmd(0x10 + (col >> 4));   /* Column high */
                oled_write_data((uint8_t*) &ssd1306xled_font8x16[font_offset], 8);

                /* Write lower half (page 5) */
                oled_write_cmd(0xB5);                /* Page 5 */
                oled_write_cmd(0x00 + (col & 0x0F)); /* Column low */
                oled_write_cmd(0x10 + (col >> 4));   /* Column high */
                oled_write_data((uint8_t*) &ssd1306xled_font8x16[font_offset + 8], 8);

                col += 8;
            }

            xSemaphoreGive(oled_sem);
            xil_printf("Displayed 'T: 26.77', 'H: 57.46', 'P: 1016.37' on OLED\r\n");
        }
        else
        {
            xil_printf("[ERROR] OLED semaphore timeout\r\n");
        }

        vTaskDelay(pdMS_TO_TICKS(2000)); /* Update every 2 seconds */
    }
}

int main(void)
{
    int status;

    xil_printf("OLED FreeRTOS Test Starting\r\n");

    /* Initialize I2C */
    status = i2c_init();
    if (status != XST_SUCCESS)
    {
        xil_printf("[ERROR] I2C Initialization failed\r\n");
        return -1;
    }

    /* Set OLED I2C address */
    if (XIic_SetAddress(&IicInstance, XII_ADDR_TO_SEND_TYPE, OLED_I2C_ADDR) != XST_SUCCESS)
    {
        xil_printf("[ERROR] Failed to set I2C address\r\n");
        return -1;
    }

    /* Initialize OLED */
    oled_init();

    /* Create semaphore */
    oled_sem = xSemaphoreCreateBinary();
    if (oled_sem == NULL)
    {
        xil_printf("[ERROR] Semaphore creation failed\r\n");
        return -1;
    }
    xSemaphoreGive(oled_sem); /* Initially available */

    /* Create OLED task */
    xTaskCreate(oled_task, "OLED", configMINIMAL_STACK_SIZE * 2, NULL, tskIDLE_PRIORITY + 1, NULL);

    /* Start the scheduler */
    xil_printf("Starting FreeRTOS scheduler\r\n");
    vTaskStartScheduler();

    xil_printf("[ERROR] Scheduler failed\r\n");
    return -1;
}

const uint8_t ssd1306xled_font8x16[] = {
    0x00, // 0x00 means fixed font type - the only supported by the library
    0x08, // 0x08 = 8 - font width in pixels
    0x10, // 0x10 = 16 - font height in pixels
    0x20,

    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, //   0
    0x00, 0x00, 0x00, 0xF8, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x33, 0x30, 0x00, 0x00, 0x00, // ! 1
    0x00, 0x10, 0x0C, 0x06, 0x10, 0x0C, 0x06, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // " 2
    0x40, 0xC0, 0x78, 0x40, 0xC0, 0x78, 0x40, 0x00,
    0x04, 0x3F, 0x04, 0x04, 0x3F, 0x04, 0x04, 0x00, // # 3
    0x00, 0x70, 0x88, 0xFC, 0x08, 0x30, 0x00, 0x00,
    0x00, 0x18, 0x20, 0xFF, 0x21, 0x1E, 0x00, 0x00, // $ 4
    0xF0, 0x08, 0xF0, 0x00, 0xE0, 0x18, 0x00, 0x00,
    0x00, 0x21, 0x1C, 0x03, 0x1E, 0x21, 0x1E, 0x00, // % 5
    0x00, 0xF0, 0x08, 0x88, 0x70, 0x00, 0x00, 0x00,
    0x1E, 0x21, 0x23, 0x24, 0x19, 0x27, 0x21, 0x10, // & 6
    0x10, 0x16, 0x0E, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // ' 7
    0x00, 0x00, 0x00, 0xE0, 0x18, 0x04, 0x02, 0x00,
    0x00, 0x00, 0x00, 0x07, 0x18, 0x20, 0x40, 0x00, // ( 8
    0x00, 0x02, 0x04, 0x18, 0xE0, 0x00, 0x00, 0x00,
    0x00, 0x40, 0x20, 0x18, 0x07, 0x00, 0x00, 0x00, // ) 9
    0x40, 0x40, 0x80, 0xF0, 0x80, 0x40, 0x40, 0x00,
    0x02, 0x02, 0x01, 0x0F, 0x01, 0x02, 0x02, 0x00, // * 10
    0x00, 0x00, 0x00, 0xF0, 0x00, 0x00, 0x00, 0x00,
    0x01, 0x01, 0x01, 0x1F, 0x01, 0x01, 0x01, 0x00, // + 11
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x80, 0xB0, 0x70, 0x00, 0x00, 0x00, 0x00, 0x00, // , 12
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, // - 13
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x30, 0x30, 0x00, 0x00, 0x00, 0x00, 0x00, // . 14
    0x00, 0x00, 0x00, 0x00, 0x80, 0x60, 0x18, 0x04,
    0x00, 0x60, 0x18, 0x06, 0x01, 0x00, 0x00, 0x00, // / 15
    0x00, 0xE0, 0x10, 0x08, 0x08, 0x10, 0xE0, 0x00,
    0x00, 0x0F, 0x10, 0x20, 0x20, 0x10, 0x0F, 0x00, // 0 16
    0x00, 0x10, 0x10, 0xF8, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x20, 0x20, 0x3F, 0x20, 0x20, 0x00, 0x00, // 1 17
    0x00, 0x70, 0x08, 0x08, 0x08, 0x88, 0x70, 0x00,
    0x00, 0x30, 0x28, 0x24, 0x22, 0x21, 0x30, 0x00, // 2 18
    0x00, 0x30, 0x08, 0x88, 0x88, 0x48, 0x30, 0x00,
    0x00, 0x18, 0x20, 0x20, 0x20, 0x11, 0x0E, 0x00, // 3 19
    0x00, 0x00, 0xC0, 0x20, 0x10, 0xF8, 0x00, 0x00,
    0x00, 0x07, 0x04, 0x24, 0x24, 0x3F, 0x24, 0x00, // 4 20
    0x00, 0xF8, 0x08, 0x88, 0x88, 0x08, 0x08, 0x00,
    0x00, 0x19, 0x21, 0x20, 0x20, 0x11, 0x0E, 0x00, // 5 21
    0x00, 0xE0, 0x10, 0x88, 0x88, 0x18, 0x00, 0x00,
    0x00, 0x0F, 0x11, 0x20, 0x20, 0x11, 0x0E, 0x00, // 6 22
    0x00, 0x38, 0x08, 0x08, 0xC8, 0x38, 0x08, 0x00,
    0x00, 0x00, 0x00, 0x3F, 0x00, 0x00, 0x00, 0x00, // 7 23
    0x00, 0x70, 0x88, 0x08, 0x08, 0x88, 0x70, 0x00,
    0x00, 0x1C, 0x22, 0x21, 0x21, 0x22, 0x1C, 0x00, // 8 24
    0x00, 0xE0, 0x10, 0x08, 0x08, 0x10, 0xE0, 0x00,
    0x00, 0x00, 0x31, 0x22, 0x22, 0x11, 0x0F, 0x00, // 9 25
    0x00, 0x00, 0x00, 0xC0, 0xC0, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x30, 0x30, 0x00, 0x00, 0x00, // : 26
    0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x80, 0x60, 0x00, 0x00, 0x00, 0x00, // ; 27
    0x00, 0x00, 0x80, 0x40, 0x20, 0x10, 0x08, 0x00,
    0x00, 0x01, 0x02, 0x04, 0x08, 0x10, 0x20, 0x00, // < 28
    0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x00,
    0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x00, // = 29
    0x00, 0x08, 0x10, 0x20, 0x40, 0x80, 0x00, 0x00,
    0x00, 0x20, 0x10, 0x08, 0x04, 0x02, 0x01, 0x00, // > 30
    0x00, 0x70, 0x48, 0x08, 0x08, 0x08, 0xF0, 0x00,
    0x00, 0x00, 0x00, 0x30, 0x36, 0x01, 0x00, 0x00, // ? 31
    0xC0, 0x30, 0xC8, 0x28, 0xE8, 0x10, 0xE0, 0x00,
    0x07, 0x18, 0x27, 0x24, 0x23, 0x14, 0x0B, 0x00, // @ 32
    0x00, 0x00, 0xC0, 0x38, 0xE0, 0x00, 0x00, 0x00,
    0x20, 0x3C, 0x23, 0x02, 0x02, 0x27, 0x38, 0x20, // A 33
    0x08, 0xF8, 0x88, 0x88, 0x88, 0x70, 0x00, 0x00,
    0x20, 0x3F, 0x20, 0x20, 0x20, 0x11, 0x0E, 0x00, // B 34
    0xC0, 0x30, 0x08, 0x08, 0x08, 0x08, 0x38, 0x00,
    0x07, 0x18, 0x20, 0x20, 0x20, 0x10, 0x08, 0x00, // C 35
    0x08, 0xF8, 0x08, 0x08, 0x08, 0x10, 0xE0, 0x00,
    0x20, 0x3F, 0x20, 0x20, 0x20, 0x10, 0x0F, 0x00, // D 36
    0x08, 0xF8, 0x88, 0x88, 0xE8, 0x08, 0x10, 0x00,
    0x20, 0x3F, 0x20, 0x20, 0x23, 0x20, 0x18, 0x00, // E 37
    0x08, 0xF8, 0x88, 0x88, 0xE8, 0x08, 0x10, 0x00,
    0x20, 0x3F, 0x20, 0x00, 0x03, 0x00, 0x00, 0x00, // F 38
    0xC0, 0x30, 0x08, 0x08, 0x08, 0x38, 0x00, 0x00,
    0x07, 0x18, 0x20, 0x20, 0x22, 0x1E, 0x02, 0x00, // G 39
    0x08, 0xF8, 0x08, 0x00, 0x00, 0x08, 0xF8, 0x08,
    0x20, 0x3F, 0x21, 0x01, 0x01, 0x21, 0x3F, 0x20, // H 40
    0x00, 0x08, 0x08, 0xF8, 0x08, 0x08, 0x00, 0x00,
    0x00, 0x20, 0x20, 0x3F, 0x20, 0x20, 0x00, 0x00, // I 41
    0x00, 0x00, 0x08, 0x08, 0xF8, 0x08, 0x08, 0x00,
    0xC0, 0x80, 0x80, 0x80, 0x7F, 0x00, 0x00, 0x00, // J 42
    0x08, 0xF8, 0x88, 0xC0, 0x28, 0x18, 0x08, 0x00,
    0x20, 0x3F, 0x20, 0x01, 0x26, 0x38, 0x20, 0x00, // K 43
    0x08, 0xF8, 0x08, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x20, 0x3F, 0x20, 0x20, 0x20, 0x20, 0x30, 0x00, // L 44
    0x08, 0xF8, 0xF8, 0x00, 0xF8, 0xF8, 0x08, 0x00,
    0x20, 0x3F, 0x00, 0x3F, 0x00, 0x3F, 0x20, 0x00, // M 45
    0x08, 0xF8, 0x30, 0xC0, 0x00, 0x08, 0xF8, 0x08,
    0x20, 0x3F, 0x20, 0x00, 0x07, 0x18, 0x3F, 0x00, // N 46
    0xE0, 0x10, 0x08, 0x08, 0x08, 0x10, 0xE0, 0x00,
    0x0F, 0x10, 0x20, 0x20, 0x20, 0x10, 0x0F, 0x00, // O 47
    0x08, 0xF8, 0x08, 0x08, 0x08, 0x08, 0xF0, 0x00,
    0x20, 0x3F, 0x21, 0x01, 0x01, 0x01, 0x00, 0x00, // P 48
    0xE0, 0x10, 0x08, 0x08, 0x08, 0x10, 0xE0, 0x00,
    0x0F, 0x18, 0x24, 0x24, 0x38, 0x50, 0x4F, 0x00, // Q 49
    0x08, 0xF8, 0x88, 0x88, 0x88, 0x88, 0x70, 0x00,
    0x20, 0x3F, 0x20, 0x00, 0x03, 0x0C, 0x30, 0x20, // R 50
    0x00, 0x70, 0x88, 0x08, 0x08, 0x08, 0x38, 0x00,
    0x00, 0x38, 0x20, 0x21, 0x21, 0x22, 0x1C, 0x00, // S 51
    0x18, 0x08, 0x08, 0xF8, 0x08, 0x08, 0x18, 0x00,
    0x00, 0x00, 0x20, 0x3F, 0x20, 0x00, 0x00, 0x00, // T 52
    0x08, 0xF8, 0x08, 0x00, 0x00, 0x08, 0xF8, 0x08,
    0x00, 0x1F, 0x20, 0x20, 0x20, 0x20, 0x1F, 0x00, // U 53
    0x08, 0x78, 0x88, 0x00, 0x00, 0xC8, 0x38, 0x08,
    0x00, 0x00, 0x07, 0x38, 0x0E, 0x01, 0x00, 0x00, // V 54
    0xF8, 0x08, 0x00, 0xF8, 0x00, 0x08, 0xF8, 0x00,
    0x03, 0x3C, 0x07, 0x00, 0x07, 0x3C, 0x03, 0x00, // W 55
    0x08, 0x18, 0x68, 0x80, 0x80, 0x68, 0x18, 0x08,
    0x20, 0x30, 0x2C, 0x03, 0x03, 0x2C, 0x30, 0x20, // X 56
    0x08, 0x38, 0xC8, 0x00, 0xC8, 0x38, 0x08, 0x00,
    0x00, 0x00, 0x20, 0x3F, 0x20, 0x00, 0x00, 0x00, // Y 57
    0x10, 0x08, 0x08, 0x08, 0xC8, 0x38, 0x08, 0x00,
    0x20, 0x38, 0x26, 0x21, 0x20, 0x20, 0x18, 0x00, // Z 58
    0x00, 0x00, 0x00, 0xFE, 0x02, 0x02, 0x02, 0x00,
    0x00, 0x00, 0x00, 0x7F, 0x40, 0x40, 0x40, 0x00, // [ 59
    0x00, 0x0C, 0x30, 0xC0, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x01, 0x06, 0x38, 0xC0, 0x00, // \ 60
    0x00, 0x02, 0x02, 0x02, 0xFE, 0x00, 0x00, 0x00,
    0x00, 0x40, 0x40, 0x40, 0x7F, 0x00, 0x00, 0x00, // ] 61
    0x00, 0x00, 0x04, 0x02, 0x02, 0x02, 0x04, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // ^ 62
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, // _ 63
    0x00, 0x02, 0x02, 0x04, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // ` 64
    0x00, 0x00, 0x80, 0x80, 0x80, 0x80, 0x00, 0x00,
    0x00, 0x19, 0x24, 0x22, 0x22, 0x22, 0x3F, 0x20, // a 65
    0x08, 0xF8, 0x00, 0x80, 0x80, 0x00, 0x00, 0x00,
    0x00, 0x3F, 0x11, 0x20, 0x20, 0x11, 0x0E, 0x00, // b 66
    0x00, 0x00, 0x00, 0x80, 0x80, 0x80, 0x00, 0x00,
    0x00, 0x0E, 0x11, 0x20, 0x20, 0x20, 0x11, 0x00, // c 67
    0x00, 0x00, 0x00, 0x80, 0x80, 0x88, 0xF8, 0x00,
    0x00, 0x0E, 0x11, 0x20, 0x20, 0x10, 0x3F, 0x20, // d 68
    0x00, 0x00, 0x80, 0x80, 0x80, 0x80, 0x00, 0x00,
    0x00, 0x1F, 0x22, 0x22, 0x22, 0x22, 0x13, 0x00, // e 69
    0x00, 0x80, 0x80, 0xF0, 0x88, 0x88, 0x88, 0x18,
    0x00, 0x20, 0x20, 0x3F, 0x20, 0x20, 0x00, 0x00, // f 70
    0x00, 0x00, 0x80, 0x80, 0x80, 0x80, 0x80, 0x00,
    0x00, 0x6B, 0x94, 0x94, 0x94, 0x93, 0x60, 0x00, // g 71
    0x08, 0xF8, 0x00, 0x80, 0x80, 0x80, 0x00, 0x00,
    0x20, 0x3F, 0x21, 0x00, 0x00, 0x20, 0x3F, 0x20, // h 72
    0x00, 0x80, 0x98, 0x98, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x20, 0x20, 0x3F, 0x20, 0x20, 0x00, 0x00, // i 73
    0x00, 0x00, 0x00, 0x80, 0x98, 0x98, 0x00, 0x00,
    0x00, 0xC0, 0x80, 0x80, 0x80, 0x7F, 0x00, 0x00, // j 74
    0x08, 0xF8, 0x00, 0x00, 0x80, 0x80, 0x80, 0x00,
    0x20, 0x3F, 0x24, 0x02, 0x2D, 0x30, 0x20, 0x00, // k 75
    0x00, 0x08, 0x08, 0xF8, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x20, 0x20, 0x3F, 0x20, 0x20, 0x00, 0x00, // l 76
    0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x00,
    0x20, 0x3F, 0x20, 0x00, 0x3F, 0x20, 0x00, 0x3F, // m 77
    0x80, 0x80, 0x00, 0x80, 0x80, 0x80, 0x00, 0x00,
    0x20, 0x3F, 0x21, 0x00, 0x00, 0x20, 0x3F, 0x20, // n 78
    0x00, 0x00, 0x80, 0x80, 0x80, 0x80, 0x00, 0x00,
    0x00, 0x1F, 0x20, 0x20, 0x20, 0x20, 0x1F, 0x00, // o 79
    0x80, 0x80, 0x00, 0x80, 0x80, 0x00, 0x00, 0x00,
    0x80, 0xFF, 0xA1, 0x20, 0x20, 0x11, 0x0E, 0x00, // p 80
    0x00, 0x00, 0x00, 0x80, 0x80, 0x80, 0x80, 0x00,
    0x00, 0x0E, 0x11, 0x20, 0x20, 0xA0, 0xFF, 0x80, // q 81
    0x80, 0x80, 0x80, 0x00, 0x80, 0x80, 0x80, 0x00,
    0x20, 0x20, 0x3F, 0x21, 0x20, 0x00, 0x01, 0x00, // r 82
    0x00, 0x00, 0x80, 0x80, 0x80, 0x80, 0x80, 0x00,
    0x00, 0x33, 0x24, 0x24, 0x24, 0x24, 0x19, 0x00, // s 83
    0x00, 0x80, 0x80, 0xE0, 0x80, 0x80, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x1F, 0x20, 0x20, 0x00, 0x00, // t 84
    0x80, 0x80, 0x00, 0x00, 0x00, 0x80, 0x80, 0x00,
    0x00, 0x1F, 0x20, 0x20, 0x20, 0x10, 0x3F, 0x20, // u 85
    0x80, 0x80, 0x80, 0x00, 0x00, 0x80, 0x80, 0x80,
    0x00, 0x01, 0x0E, 0x30, 0x08, 0x06, 0x01, 0x00, // v 86
    0x80, 0x80, 0x00, 0x80, 0x00, 0x80, 0x80, 0x80,
    0x0F, 0x30, 0x0C, 0x03, 0x0C, 0x30, 0x0F, 0x00, // w 87
    0x00, 0x80, 0x80, 0x00, 0x80, 0x80, 0x80, 0x00,
    0x00, 0x20, 0x31, 0x2E, 0x0E, 0x31, 0x20, 0x00, // x 88
    0x80, 0x80, 0x80, 0x00, 0x00, 0x80, 0x80, 0x80,
    0x80, 0x81, 0x8E, 0x70, 0x18, 0x06, 0x01, 0x00, // y 89
    0x00, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x00,
    0x00, 0x21, 0x30, 0x2C, 0x22, 0x21, 0x30, 0x00, // z 90
    0x00, 0x00, 0x00, 0x00, 0x80, 0x7C, 0x02, 0x02,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x3F, 0x40, 0x40, // { 91
    0x00, 0x00, 0x00, 0x00, 0xFF, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0xFF, 0x00, 0x00, 0x00, // | 92
    0x00, 0x02, 0x02, 0x7C, 0x80, 0x00, 0x00, 0x00,
    0x00, 0x40, 0x40, 0x3F, 0x00, 0x00, 0x00, 0x00, // } 93
    0x00, 0x06, 0x01, 0x01, 0x02, 0x02, 0x04, 0x04,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // ~ 94
};
